<idea-plugin version="2" url="https://github.com/raket/idea-silverstripe">
    <id>com.raket.silverstripe</id>
    <name>SilverStripe Template Language Support</name>
    <version>0.2</version>
    <vendor logo="/icons/raket.png" email="marcus@raket.nu" url="http://www.raket.nu">Raket Webbyr√•</vendor>

    <description><![CDATA[
      <a href="http://www.silverstripe.org/">SilverStripe</a> template language support<br>
      <br>
      Issues, feature requests and contributions welcome: <a href="https://github.com/raket/idea-silverstripe">https://github.com/raket/idea-silverstripe</a>
      ]]>
    </description>
    <category>Custom Languages</category>
    <change-notes>
        <![CDATA[
        <strong>Version 0.2</strong>
        <ul>
            <li><b>Features</b></li>
            <li>Code completion for block statements Writing out the opening statement will autocomplete the closing statement</li>
            <li>Automatic placing of caret when pressing enter between start and close block</li>
            <li>Code formatting for both HTML and the SilverStripe template language.</li>
            <li>Proper parsing of if/else_if statements</li>
            <li>Basic support of <%t %></li>
        </ul>
        <strong>Version 0.1</strong>
        <br>
        First version of the plugin. It brings basic tag recognition, syntax highlighting, brace matching and code folding.
        It also recognizes HTML as a separate language and allows the formatting of HTML inside an ss file.
        <ul>
            <li><b>Features</b></li>
            <li>Basic tag recognition. Recognizes the following tags:
                <ul>
                    <li><% if $Var %> - <% else_if %> - <% else %> - <% end_if %></li>
                    <li><% loop $Var %> - <% end_loop %></li>
                    <li><% with $Var %> - <% end_with %></li>
                    <li><% control $Var %> - <% end_control %></li>
                    <li><%-- Comment --%></li>
                    <li><% include File %></li>
                    <li><% base_tag %></li>
                    <li>Var statements, both {$Var} and $Var is supported.</li>
                </ul>
            </li>
            <li>Basic syntax highlighting</li>
            <li>Brace matching</li>
            <li>Code folding</li>
            <li>HTML is recognized and can be formatted.</li>
            <li>Error messages for mismatching blocks and unexpected blocks.<br>
                Error messages for syntax errors in Var statements.
            </li>
            <li>Message about unrecognized tags.</li>
        </ul>
      ]]>
    </change-notes>

    <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="107.105"/>

    <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <!-- uncomment to enable plugin in all products -->
    <depends>com.intellij.modules.lang</depends>

    <application-components>
        <!-- Add your application components here -->
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <!-- Add your actions here -->
        <action id="SilverStripe.NewFile" class="com.raket.silverstripe.editor.actions.SilverStripeNewFileAction" text="New SS Template"
                description="Add a new SilverStripe Template File">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <fileTypeFactory implementation="com.raket.silverstripe.file.SilverStripeFileTypeFactory"/>
        <lang.parserDefinition language="SilverStripe"
                               implementationClass="com.raket.silverstripe.parser.SilverStripeParserDefinition"/>
        <lang.formatter language="SilverStripe"
                        implementationClass="com.raket.silverstripe.format.SilverStripeFormattingModelBuilder"/>
        <colorSettingsPage implementation="com.raket.silverstripe.editor.colors.SilverStripeColorSettingsPage"/>
        <lang.fileViewProviderFactory language="SilverStripe"
                                      implementationClass="com.raket.silverstripe.file.SilverStripeFileViewProviderFactory"/>
        <braceMatcher filetype="SilverStripe"
                      implementationClass="com.raket.silverstripe.editor.braces.SilverStripeBraceMatcher"/>
        <lang.foldingBuilder language="SilverStripe"
                             implementationClass="com.raket.silverstripe.editor.folding.SilverStripeFoldingBuilder"/>
        <typedHandler implementation="com.raket.silverstripe.editor.actions.SilverStripeTypedHandler"/>
        <enterHandlerDelegate implementation="com.raket.silverstripe.editor.actions.SilverStripeEnterHandler"/>
        <!--
        <lang.syntaxHighlighterFactory key="SilverStripe" implementationClass="com.raket.silverstripe.editor.highlighting.SilverStripeSyntaxHighlighterFactory"/>
        -->
        <codeInsight.lineMarkerProvider language="SilverStripe" implementationClass="com.raket.silverstripe.editor.lines.SilverStripeLineMarkerProvider"/>
        <annotator language="SilverStripe" implementationClass="com.raket.silverstripe.editor.annotations.SilverStripeIncludeAnnotator"/>
    </extensions>
</idea-plugin>